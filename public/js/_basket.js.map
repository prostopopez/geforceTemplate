{"version":3,"sources":["_basket.js"],"names":["basketArray","removeDuplicates","originalArray","prop","i","newArray","lookupObject","uniqueArray","getItem","JSON","parse","localStorage","setItem","stringify","document","querySelector","map","item","hasOwnProperty","basketContent","innerHTML","pcName","ssd","ssdCount","cpu","ram","ramCount","gpu","gpuCount","parseInt","finalPrice","img","concat","keyboardName","keyboardType","keyboardConnect","keyboardLength","keyboardMaterial","basketItems","querySelectorAll","localPrice","localCount","startPrice","addEventListener","value","length","splice","location","reload","_loop"],"mappings":"aAAA,IAAIA,YASJ,SAASC,iBAAiBC,EAAeC,GAAzC,IAIaC,EAIAA,EARbC,EAASJ,GACDI,EAAJ,GAGA,IAASD,KAAKF,EAATI,EAASJ,EAAeE,GAAAD,IAAAD,EAAAE,GAI7B,IAASA,KAAKE,EAATD,EAASC,KAAAA,EAAcF,IAE3B,OAAAC,EAEJ,IAAAE,YAAAN,iBAlBGD,YAHJ,MAAIA,aAAJQ,QAAA,eAGkB,GAAdC,KAAAC,MAAAC,aAAAH,QAAA,gBAkBH,cAGDG,aAAaC,QAAQ,cAAeH,KAAKI,UAAUN,cAAnDI,IAAAA,cAAAG,SAAqBC,cAAoBF,sBAIzCN,YAAYS,IAAI,SAAAC,GACRA,EAAKC,eAAe,YACpBC,cAAcC,WAAdD,oGAAAA,OAEcF,EAAKI,OAFnBF,q0BAAAA,OAgJuBF,EAAgCK,IAhJvDH,MAAAA,OAgJAF,EAAAM,SAhJAJ,u5CAAAA,OAmCiDF,EAAKO,IAnCtDL,g4CAAAA,OAuDiDF,EAAKQ,IAvDtDN,MAAAA,OAuD8DF,EAAKS,SAvDnEP,4/CAAAA,OA2EiDF,EAAKU,IA3EtDR,MAAAA,OA2E8DF,EAAKW,SA3EnET,oOAAAA,OAkF+BU,SAASZ,EAAKa,YAlF7CX,4XAAAA,OA4FoBF,EAAKc,IA5FzBZ,kDAiGAF,EAAKC,eAAe,kBACpBC,cAAcC,WAAd,8GAAAY,OAEkBf,EAAKgB,aAFvB,8KAAAD,OAK6Ef,EAAKiB,aALlF,oKAAAF,OAQkFf,EAAKkB,gBARvF,0JAAAH,OAWwEf,EAAKmB,eAX7E,wJAAAJ,OAcsEf,EAAKoB,iBAd3E,+NAAAL,OAoBmCH,SAASZ,EAAKa,YApBjD,oaAAAE,OA8BwBf,EAAKc,IA9B7B,4DAuCR,IAFA,IAAIO,YAAcnB,cAAcoB,iBAAiB,mB,eAExCnC,GACL,IAAIoC,EAAaF,YAAYlC,GAAGW,cAAc,cAC1C0B,EAAaH,YAAYlC,GAAGW,cAAc,kBAE1C2B,EAAab,SAASW,EAAWpB,WAErCqB,EAAWE,iBAAiB,QAAS,WACjCH,EAAWpB,UAAYsB,EAAaD,EAAWG,MAAQ,OAG1CN,YAAYlC,GAAGW,cAAc,mBAEnC4B,iBAAiB,QAAS,WACjC,IAAK,IAAIvC,EAAIJ,YAAY6C,OAAS,EAAQ,GAALzC,IAAUA,EACvCJ,YAAYI,GAAG0B,aAAeD,SAASW,EAAWpB,WAAaqB,EAAWG,OAC1E5C,YAAY8C,OAAO1C,EAAG,GAI9BO,aAAaC,QAAQ,cAAeH,KAAKI,UAAUb,cACnDc,SAASiC,SAASC,YApBjB5C,EAAI,EAAGA,EAAIkC,YAAYO,OAAQzC,IAAK6C,MAApC7C","file":"_basket.js","sourcesContent":["let basketArray;\r\n\r\nif (localStorage.getItem('basketLocal') == null) {\r\n    basketArray = [];\r\n} else {\r\n    basketArray = JSON.parse(localStorage.getItem('basketLocal'));\r\n}\r\n\r\n\r\nfunction removeDuplicates(originalArray, prop) {\r\n    let newArray = [];\r\n    let lookupObject = {};\r\n\r\n    for (let i in originalArray) {\r\n        lookupObject[originalArray[i][prop]] = originalArray[i];\r\n    }\r\n\r\n    for (let i in lookupObject) {\r\n        newArray.push(lookupObject[i]);\r\n    }\r\n    return newArray;\r\n}\r\n\r\nlet uniqueArray = removeDuplicates(basketArray, \"finalPrice\");\r\nlocalStorage.setItem('basketLocal', JSON.stringify(uniqueArray));\r\n\r\nlet basketContent = document.querySelector('.fnv-basketContent');\r\n\r\nuniqueArray.map(item => {\r\n    if (item.hasOwnProperty('pcName')) {\r\n        basketContent.innerHTML += `<div class=\"fnv-basketItem fnv-pc\">\r\n            <div class=\"fnv-itemInfo\">\r\n                <h5>${item.pcName}</h5>\r\n                <div class=\"fnv-detailsPC\">\r\n                    <div class=\"fnv-detailPC fnv-ssd\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25.493\" height=\"25.493\"\r\n                             viewBox=\"0 0 25.493 25.493\">\r\n                            <path\r\n                                d=\"M3,31.493H28.493V25.12H3Zm2.549-4.78H8.1V29.9H5.549ZM3,6v6.373H28.493V6Zm5.1,4.78H5.549V7.593H8.1ZM3,21.933H28.493V15.56H3Zm2.549-4.78H8.1V20.34H5.549Z\"\r\n                                transform=\"translate(-3 -6)\" fill=\"#737373\" />\r\n                        </svg>\r\n                        <div>\r\n                            <p class=\"fnv-nameOfDetail\">\r\n                                твердотелый накопитель\r\n                            </p>\r\n                            <p class=\"fnv-aboutDetail\">${item.ssd} x${item.ssdCount}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"fnv-detailPC fnv-cpu\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n                             width=\"31\"\r\n                             height=\"32\" viewBox=\"0 0 31 32\">\r\n                            <defs>\r\n                                <pattern id=\"pattern1\" preserveAspectRatio=\"none\" width=\"100%\" height=\"100%\"\r\n                                         viewBox=\"0 0 24 24\">\r\n                                    <image width=\"24\" height=\"24\"\r\n                                           xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB8SURBVHgB5ZVJCsAwCEW15Kw9VC+b0kVAbMQBpUjfKmA0+tEI8BVzzjN6phzQHZQMUslqQMRr+T7nV9BljDyw8xn8dUhmWC5p1fDEqERDMmhBuI90t1yikjmgzWKWyMNPJfIMnkmJrEkulwh3GdAPy0tFo8TJ2Gr9N1p/biebebzePgb0AAAAAElFTkSuQmCC\" />\r\n                                </pattern>\r\n                            </defs>\r\n                            <rect id=\"l_2\" width=\"31\" height=\"32\" fill=\"url(#pattern1)\" />\r\n                        </svg>\r\n                        <div>\r\n                            <p class=\"fnv-nameOfDetail\">\r\n                                процессор\r\n                            </p>\r\n                            <p class=\"fnv-aboutDetail\">${item.cpu}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"fnv-detailPC fnv-ram\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n                             width=\"31\"\r\n                             height=\"32\" viewBox=\"0 0 31 32\">\r\n                            <defs>\r\n                                <pattern id=\"pattern2\" preserveAspectRatio=\"none\" width=\"100%\" height=\"100%\"\r\n                                         viewBox=\"0 0 24 24\">\r\n                                    <image width=\"24\" height=\"24\"\r\n                                           xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABjSURBVHgB7ZNRCsAgDEOb4Vl3qF22Yx/CVlYNWgSh70tiTSy0IkkyC+pBVU8JBMD1ESID3l6lV1B/w2rW6xCHp9g+YDUqIIr9A4p38TdVrEYbjuKOafSyLQFWmO2itRNJMsYNDJgy3QoDOV0AAAAASUVORK5CYII=\" />\r\n                                </pattern>\r\n                            </defs>\r\n                            <rect id=\"l_3\" width=\"31\" height=\"32\" fill=\"url(#pattern2)\" />\r\n                        </svg>\r\n                        <div>\r\n                            <p class=\"fnv-nameOfDetail\">\r\n                                оперативная память\r\n                            </p>\r\n                            <p class=\"fnv-aboutDetail\">${item.ram} x${item.ramCount}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"fnv-detailPC fnv-gpu\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n                             width=\"31\"\r\n                             height=\"32\" viewBox=\"0 0 31 32\">\r\n                            <defs>\r\n                                <pattern id=\"pattern3\" preserveAspectRatio=\"none\" width=\"100%\" height=\"100%\"\r\n                                         viewBox=\"0 0 24 24\">\r\n                                    <image width=\"24\" height=\"24\"\r\n                                           xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADFSURBVHgB7ZU9CgIxEIUTEbbRa1hpo9Wewzt4KE9g5TG00kYbvYaVNvELBFnQlTcSWZbdB49ks/OTzA/jXNvh636EEFbOYsj7tUXe5OCb7MD9GUNVkFsuWKbp80pI9oqe9AKMlywjuIFbWCSHeRyACTxy6zu8sd/BmaJoycGjsi+cCNXBGZaEZQyj8Tm8KIpSkgnLIeVhmY5O8UzRlasoVY1UOVVk7YNPDdf3QTYHER3tg1q0Zh68jUzrqHwZUkfmrw4awxM/Zl2mctjtEgAAAABJRU5ErkJggg==\" />\r\n                                </pattern>\r\n                            </defs>\r\n                            <rect id=\"l_1\" width=\"31\" height=\"32\" fill=\"url(#pattern3)\" />\r\n                        </svg>\r\n                        <div>\r\n                            <p class=\"fnv-nameOfDetail\">\r\n                                видеокарта\r\n                            </p>\r\n                            <p class=\"fnv-aboutDetail\">${item.gpu} x${item.gpuCount}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"fnv-aboutPrice\">\r\n                <p>Стоимость:</p>\r\n                <p class=\"fnv-price\">${parseInt(item.finalPrice)} ₽</p>\r\n                <p>Количество:</p>\r\n                <label>\r\n                    <input class=\"fnv-itemCount\" type=\"text\" size=\"1\" value=\"1\">\r\n                </label>\r\n                <button class=\"fnv-removeItem\">\r\n                    Убрать из корзины\r\n                </button>\r\n            </div>\r\n            <div class=\"fnv-forImg\">\r\n                <img src=\"${item.img}\" alt=\"\">\r\n            </div>\r\n        </div>`;\r\n    }\r\n\r\n    if (item.hasOwnProperty('keyboardName')) {\r\n        basketContent.innerHTML += `<div class=\"fnv-basketItem fnv-keyb\">\r\n                <div class=\"fnv-itemInfo\">\r\n                    <h5>${item.keyboardName}</h5>\r\n                    <div class=\"fnv-flexStats\">\r\n                        <div>\r\n                            <span>Тип клавиатуры</span><span class=\"fnv-typeOfKey\">${item.keyboardType}</span>\r\n                        </div>\r\n                        <div>\r\n                            <span>Тип подключения</span><span class=\"fnv-typeOfConnect\">${item.keyboardConnect}</span>\r\n                        </div>\r\n                        <div>\r\n                            <span>Длина кабеля</span><span class=\"fnv-length\">${item.keyboardLength}</span>\r\n                        </div>\r\n                        <div>\r\n                            <span>Материал</span><span class=\"fnv-material\">${item.keyboardMaterial}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"fnv-aboutPrice\">\r\n                    <p>Стоимость:</p>\r\n                    <p class=\"fnv-price\">${parseInt(item.finalPrice)} ₽</p>\r\n                    <p>Количество:</p>\r\n                    <label>\r\n                        <input class=\"fnv-itemCount\" type=\"text\" size=\"1\" value=\"1\">\r\n                    </label>\r\n                    <button class=\"fnv-removeItem\">\r\n                        Убрать из корзины\r\n                    </button>\r\n                </div>\r\n                <div class=\"fnv-forImg\">\r\n                    <img src=\"${item.img}\" alt=\"\">\r\n                </div>\r\n            </div>`;\r\n    }\r\n});\r\n//\r\n\r\nlet basketItems = basketContent.querySelectorAll('.fnv-basketItem');\r\n\r\nfor (let i = 0; i < basketItems.length; i++) {\r\n    let localPrice = basketItems[i].querySelector('.fnv-price');\r\n    let localCount = basketItems[i].querySelector('.fnv-itemCount');\r\n\r\n    let startPrice = parseInt(localPrice.innerHTML);\r\n\r\n    localCount.addEventListener('input', function () {\r\n        localPrice.innerHTML = startPrice * localCount.value + ' ₽';\r\n    });\r\n\r\n    let removeItem = basketItems[i].querySelector('.fnv-removeItem');\r\n\r\n    removeItem.addEventListener('click', function () {\r\n        for (let i = basketArray.length - 1; i >= 0; --i) {\r\n            if (basketArray[i].finalPrice === parseInt(localPrice.innerHTML) / localCount.value) {\r\n                basketArray.splice(i, 1);\r\n            }\r\n        }\r\n\r\n        localStorage.setItem('basketLocal', JSON.stringify(basketArray));\r\n        document.location.reload();\r\n    });\r\n}\r\n"]}